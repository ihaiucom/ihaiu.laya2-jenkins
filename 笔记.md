## Jenkins 相关文档

[Jenkins官方文档]  
https://github.com/ihaiucom/Jenkinsdocs

[Jenkins教程]  
https://jenkins.io/zh/doc/book/pipeline/#scripted-pipeline-fundamentals

[第十章-流水线实践(二)] 
https://github.com/ihaiucom/Jenkinsdocs/blob/master/chapter/第十章-流水线实践(二).md

[流水线语法] 
https://jenkins.io/zh/doc/book/pipeline/syntax/


## Jenkins Pipline 

```
String workspace="D:/Jenkins/GameJJSG/"
pipeline 
{
   agent 
   {
       node 
       {
            label "master"						// 设置运行机器节点标签
            customWorkspace "${workspace}" 		// 自定义在工作空间 
       }
   }

   options 
   {
   		timestamps()  							// 日志会有时间
	  	timeout(time: 20, unit: 'SECONDS') 		// 设置超时时间
	  	retry(2)								// 设置重复次数
	  	disableConcurrentBuilds()				// 不允许并发构建
	  	skipDefaultCheckout true				// 删除隐试checkou scm语句
	}


   stages {
      stage('Hello') {
         steps {
            echo 'Hello World'
            git credentialsId: '647b7b11-5185-4289-843d-77cc8dfbc945', url: 'git@github.com:ihaiucom/ihaiu.laya2-jenkins.git'
         }
      }
   }
}


```


## 安装nodejs
http://nodejs.cn/

## 安装cnpm
https://npm.taobao.org/

npm install -g cnpm --registry=https://registry.npm.taobao.org


## 安装gulp
https://www.cnblogs.com/bobo1/p/10918641.html

https://www.cnblogs.com/limitcode/p/7906447.html

cnpm install -g gulp
cnpm install --save-dev gulp
cnpm install gulp
cnpm install --save gulp

## 安装layaair2-cmd
https://npm.taobao.org/package/layaair2-cmd

cnpm install layaair2-cmd -g
cnpm install layaair2-cmd
cnpm install --save layaair2-cmd


node_modules\.bin\layaair2-cmd compile -w D:\zengfeng\githubs\ihaiu.laya2-jenkins\LayaGame24
node_modules\.bin\layaair2-cmd publish -c web -w D:\zengfeng\githubs\ihaiu.laya2-jenkins\LayaGame24
node_modules\.bin\layaair2-cmd publish -c wxgame -w D:\zengfeng\githubs\ihaiu.laya2-jenkins\LayaGame24


layaair2-cmd compile -w D:\zengfeng\githubs\ihaiu.laya2-jenkins\LayaGame24
